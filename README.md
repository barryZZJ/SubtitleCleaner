# 程序下载

在[Releases](https://github.com/barryZZJ/SubtitleCleaner/releases)页面选择最新版本的程序下载。

# FullwidthConverter / 全角片假名转换器

可以将半角片假名及`｡` `｢` `｣` `､` `･`等符号转换为全角形式

## 使用方法

1. 将待转换文件直接拖放到本程序上即可。

2. 也可以使用命令行进行更多配置：
   - `InputFile`：设置待处理文件名
   - `-o FILE, --output FILE`：设置输出文件名，默认为`<输入文件名>_out.txt`。
   - `-q, --quit`：结束后不暂停程序直接退出，方便命令行调用。不加该参数程序结束时会暂停。
   - `--log`：记录日志，把执行结果输出到`<输入文件名>_log.txt`

## TODO List

- [ ] 制作GUI界面

---
# SubCleaner / 字幕清理器

输入`.ass`字幕文件，提取对话文本，进行处理后输出为文本文件，具体处理内容如下：

1. 台词合并：
   - 多行的书名号`《...》`括起来的内容进行拼接，删除书名号并用全角空格隔开
   - 与下一行开始和结束时间相同时，二者拼接，并(只有有效对白才)用半角空格隔开
2. 台词清理：
   - 直接删除：`…` `｡`(半角) `。`(全角) `！` `(文字)` `[文字]` `{文字}` `\N` `空行`
   - 每一行开头添加`\N`
3. 假名转换
   - 每一行使用`FullWidthConverter`处理半角平假名

## 使用方法

1. 将`.ass`文件直接拖放到本程序上即可。

2. 也可以使用命令行进行更多配置：
   - `InputFile`：设置待处理文件名
   - `-o FILE, --output FILE`：设置输出文件名，默认为`<输入文件名>.txt`
   - `-q, --quit`：结束后不暂停程序直接退出，方便命令行调用。不加该参数程序结束时会暂停
   - `--log`：记录日志，把执行结果输出到`<输入文件名>_log.txt`


## TODO List

- [ ] 制作GUI界面

---

# Caption2Txt.bat

根据ts生成清理后的台词文本文件。

使用方法：拖入ts文件，会先生成ass，然后生成处理后的txt文件。

注意：必须把本脚本与Caption2Ass_PCR.exe、SubCleaner.exe放在同一目录下才能正常工作！

by 谢耳朵w v1.0

# 提出修改建议 / 运行时的错误和BUG

请给我提出[Issue](https://github.com/barryZZJ/SubtitleCleaner/issues)，看到后我会及时处理。

# Changelog

## FullwidthConverter

- v1.0.2
  - 添加`-q, --quit` `--log`参数，方便命令行调用

- v1.0.1
  - 优化直接运行程序时的提示

- v1.0
  - 实现基本功能
  - 支持UTF-8 (with BOM)、GBK编码格式文件
  - 一次只支持单个文件

## SubCleaner

- v2.0.0 (建议更新至该版本)
  - 修改台词合并逻辑
  - 修复合并及清理时的一些bug
  - 修改默认输出文件名为`<输入文件名>.txt`
  - 添加`-q, --quit` `--log`参数，方便命令行调用

- v1.0.1
  - 优化直接运行程序时的提示

- v1.0
  - 实现基本功能 
  - 一次只支持单个文件
